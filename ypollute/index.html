<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>YPollute</title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">

var total_distance = 0;
var total_co2 = 0;

function setData(){

  document.getElementById("ename").innerHTML=document.getElementById("eventname").value;
  document.getElementById("eloc").innerHTML=document.getElementById("eventvenue").value;
  document.getElementById("eventdata").style.display = 'none';

}

function GetValues(){

  var venue=document.getElementById("eventvenue").value;
  var name=document.getElementById("pname").value;
  var location=document.getElementById("ploc").value;
  var transport=document.getElementById("mot").value;

  document.getElementById("pname").value="";
  document.getElementById("ploc").value="";
  document.getElementById("mot").value="";  

  var distance=Math.floor(Math.random()*10000);
  var co2=Math.floor(Math.random()*43);

  total_distance = total_distance + distance;
  total_co2 = total_co2 + co2;

  AppendRow(name,location,transport,distance,co2);
  document.getElementById("total_carbon_fp").innerHTML= Math.floor(Math.random()*((total_distance * total_co2)/13849));

}

function AppendTD()
{
    var td = document.createElement("td");
    return td;
}

function AppendRow(name,location,transport,distance,co2)
{
        var tblObj = document.getElementById('ptable');
        var tblBody = tblObj.childNodes;
        var ttlRows = tblBody[0].childNodes.length;
        var index = ttlRows;
        var cellHTML = "";
        var tr = document.createElement('tr');
            
        //adding first column
        var td = AppendTD();
        cellHTML = name;
        td.innerHTML = cellHTML;
        tr.appendChild(td);
           
        //adding second column
        var td = AppendTD();
        cellHTML = location;
        td.innerHTML = cellHTML;
        tr.appendChild(td);

        var td = AppendTD();
		if(transport==1)
        cellHTML = "Air";
		else if(transport==3)
        cellHTML = "Rail";
    	else if(transport==2)
        cellHTML = "Road";
		else
        cellHTML = "Sea";		
        td.innerHTML = cellHTML;
        tr.appendChild(td);
        
        //adding fourth column
        var td = AppendTD();
        cellHTML = distance;
        td.innerHTML = cellHTML;
        tr.appendChild(td);

        //adding fourth column
        var td = AppendTD();
        cellHTML = co2;
        td.innerHTML = cellHTML;
        tr.appendChild(td);   
        
        tblBody[index+1].appendChild(tr);
        
        return false;
}

</script>
</head>

<body>

	<div id="header">
    	<div id="logo"></div>    
    </div> <!-- end of header -->
    
    
    <div id="content">
        	<div id="center">
				<div id="form">
        		
                	<div id="eventdata" class="section" style="padding-bottom:10px;">
                    	<h3 class="section_title">Event Details</h3>
                        	<div class="clr"></div>
                                
                                <span class="alignleft margin10" id="event_name"><label for="eventname">Event Name</label><input type="text" name="EventName" id="eventname" size="30" /></span>

                                <span class="alignleft margin10" id="event_venue"><label for="eventvenue">Event Venue</label><input type="text" name="EventVenue" id="eventvenue" size="30" /></span>
                                
                                <span class="alignright margin10" id="done_button"><input type="submit" value="Done" onclick="setData();" /></span>
                                

                                                       
                    </div> <!-- end of first section -->
                    
                                <h2><span class="section_title" id="ename"></span></h2>
                                <h4><span class="section_title" id="eloc"></span></h4>
                    
                    <div class="section">
                    	<h3 class="section_title">Participant Details</h3>
                        	<div class="clr"></div>
                            
                              <span class="col" style="width:260px;">
                    
                                 <span class="alignleft margin10"><span class="field_title">Name</span> <input type="text" name="ParticipantName" id="pname" size="20" /></span>
    
                                 <span class="alignleft margin10 clearleft"><span class="field_title">Location</span> <input type="text" name="ParticipantLocation" id="ploc" size="20" /></span>
                                  
                                 <span class="alignleft margin10 clearleft"><span class="field_title">Transport</span> <select class="mot" id="mot"><option value="1">Air</option><option value="2">Road</option><option value="3">Rail</option><option value="4">Sea</option></select></span>                       
                                    
                                 <span class="alignleft margin10 clearleft" style="margin-left:200px;"><input type="submit" value="Add" onclick="GetValues();" /></span>
                                 
                              </span> <!-- end of col -->
                              
                              
                              
                              <span class="col" style="padding-bottom:5px;">
                              
                              	<div id="table_div">
                              	<table border="0" cellpadding="0" cellspacing="0" id="ptable">
                                
                                	<tr>
	                              		<th class="noborder">Name</th>
                                        <th>Location</th>
                                        <th>MoT</th>
                                        <th>Distance</th>
                                        <th>CO<sub>2</sub></th>
                                    </tr>
                                    
                              	</table>
                              
                              </div>
                              
                              </span> <!-- end of participants table -->
                    
                    
                    </div> <!-- end of second section -->
                    
                   
                    <div class="section blurb">
                    	Total Carbon Footprint : <strong><span id="total_carbon_fp">0.00</span> tons</strong>
                    	<center><a href="reduce.html" style="color:green; target="_blank" >Ways to reduce the footprint</a></center>
                    </div>
                
                
				</div> <!-- end of form -->
			</div> <!-- end of center -->
	</div> <!-- end of content -->
    
    
</body>
</html>
